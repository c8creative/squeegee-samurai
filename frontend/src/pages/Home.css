.parallax-clouds {
  position: relative;
  overflow-x: hidden; /* Clip clouds horizontally */
  overflow-y: auto;   /* Allow vertical scrolling */
  
  /* Light gray/blue tinted background so white card is visible */
  background: linear-gradient(135deg, #f0f4f8 0%, #e2e8f0 100%);
}

/* Cloud layer base styles - parallax effect */
.parallax-clouds::before,
.parallax-clouds::after {
  content: '';
  position: fixed; /* Fixed creates parallax effect when scrolling */
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: -10; /* Far behind content */
}

/* Layer 1: Cloud pattern (back layer) - stays fixed */
.parallax-clouds::before {
  background-image: url("/images/cloud-pattern.png");
  background-size: 600px auto; /* Tile the seamless pattern */
  background-position: center top;
  background-repeat: repeat;
  background-attachment: fixed; /* Parallax: stays fixed relative to viewport */
  opacity: 0.3;
  transform: translateZ(0); /* Hardware acceleration */
}

/* Layer 2: Cloud pattern (front layer) - moves with scroll */
.parallax-clouds::after {
  background-image: url("/images/cloud-pattern.png");
  background-size: 400px auto; /* Smaller tile size for variety */
  background-position: 200px 150px; /* Offset for depth */
  background-repeat: repeat;
  background-attachment: scroll; /* Moves with scroll for depth effect */
  opacity: 0.2;
  transform: translateZ(0); /* Hardware acceleration */
}

/* Content container needs to be above clouds */
.parallax-clouds > * {
  position: relative;
  z-index: 10; /* Well above clouds (z-index: -10) */
  background: transparent; /* Ensure content doesn't inherit background */
}

/* ── Japanese Cloud Tiled Parallax ── */
.jp-cloud-parallax {
  position: relative;
  overflow: hidden;
  isolation: isolate;
}

.jp-cloud-parallax::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: url("/images/japanese-cloud.svg");
  background-size: 280px auto;
  background-repeat: repeat;
  background-position: 0 0;
  background-attachment: fixed;
  opacity: 0.25;
  pointer-events: none;
  z-index: 0;
}

.jp-cloud-parallax > * {
  position: relative;
  z-index: 1;
}

/* Reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  .parallax-clouds::before,
  .parallax-clouds::after {
    animation: none;
  }
}
